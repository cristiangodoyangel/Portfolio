---
import GithubIcon from "./icons/GithubIcon.astro";
---

<section
  id="proyectos"
  class="container mx-auto max-w-7xl px-4 py-8 md:py-12 lg:py-16 bg-base-200"
>
  <h3
    class="text-accent text-2xl md:text-3xl font-bold tracking-tight leading-tight text-center mb-8 md:mb-12"
  >
    Mis Proyectos
  </h3>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8">
    <div class="card bg-gray-900 shadow-sm h-full rounded-lg">
      <div class="hover-3d">
        <figure>
          <img src="/ecommerce.webp" alt="Ecommerce Image" />
        </figure>
        <div></div><div></div><div></div><div></div><div></div><div></div><div>
        </div><div></div>
      </div>

      <div class="card-body py-6 px-4 md:py-8 md:px-8">
        <h2 class="card-title text-2xl md:text-3xl font-bold text-white mb-2">
          Sistema Ecommerce
          <div class="badge badge-accent text-xs ml-2">FULLSTACK</div>
        </h2>

        <p class="text-white text-base md:text-lg mb-4 md:mb-6">
          Una tienda tuvo que cerrar su local físico por fuerza mayor,
          necesitaban migrar a una tienda digital completa, con pasarela de
          pagos, sistema de inventario, alertas de stock y panel de
          administración.<br />
          Se desarrolló un sistema completo aplicando metodologías ágiles, conventional
          commits, arquitectura desacoplada y escalable.
        </p>

        <div class="flex flex-wrap gap-2 mb-6">
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            Django
          </div>
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            React
          </div>
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            DRF
          </div>
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            MercadoPago
          </div><div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            MySQL
          </div>
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            TailwindCSS
          </div>
        </div>

        <div
          class="card-actions justify-end border-t border-gray-700 pt-6 mt-auto"
        >
          <a
            href="https://github.com/cristiangodoyangel/Web-Ecommerce"
            target="_blank"
            class="btn btn-ghost btn-outline btn-sm gap-2 text-white hover:text-accent-content hover:bg-accent hover:border-accent"
          >
            <GithubIcon class="w-5 h-5" />
            Ver Código
          </a>

          <a
            href="#"
            data-video-url="https://youtu.be/k0SossPlINQ"
            class="youtube-link btn btn-ghost btn-outline btn-sm gap-2 text-white hover:text-accent-content hover:bg-accent hover:border-accent"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              preserveAspectRatio="xMidYMid"
              viewBox="0 0 256 180"
              fill="none"
              stroke="currentColor"
              stroke-width="16"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="size-6"
            >
              <path
                d="M250.346 28.075A32.18 32.18 0 0 0 227.69 5.418C207.824 0 127.87 0 127.87 0S47.912.164 28.046 5.582A32.18 32.18 0 0 0 5.39 28.24c-6.009 35.298-8.34 89.084.165 122.97a32.18 32.18 0 0 0 22.656 22.657c19.866 5.418 99.822 5.418 99.822 5.418s79.955 0 99.82-5.418a32.18 32.18 0 0 0 22.657-22.657c6.338-35.348 8.291-89.1-.164-123.134Z"
              ></path>
              <path d="m102.421 128.06 66.328-38.418-66.328-38.418z"></path>
            </svg>
            Ver Video Explicativo
          </a>
        </div>
      </div>
    </div>

    <div class="card bg-gray-900 shadow-sm h-full rounded-lg">
      <div class="hover-3d">
        <figure>
          <img src="/gestion.webp" alt="Auditoriapp Dashboard" />
        </figure>
        <div></div><div></div><div></div><div></div><div></div><div></div><div>
        </div><div></div>
      </div>

      <div class="card-body py-6 px-4 md:py-8 md:px-8">
        <h2 class="card-title text-2xl md:text-3xl font-bold text-white mb-2">
          Auditoriapp
          <div class="badge badge-accent text-xs ml-2">SAAS</div>
        </h2>

        <p class="text-white text-base md:text-lg mb-4 md:mb-6">
          EL cliente tenía un gran problema, necesitaba auditar dineros
          entregamos a beneficiarios, esos dineros debían ser rendidos, pero los
          beneficiarios rendian a través de excel que no estaba centralizado,
          otras veces con correos sueltos o simplemente no hacían las
          rendiciones. <br />Desarrollé una plataforma SaaS Multi-Tenant
          diseñada para auditar y gestionar fondos de proyectos para múltiples
          entidades beneficiarias. Garantiza transparencia y aislamiento de
          datos, todo en tiempo real.
        </p>

        <div class="flex flex-wrap gap-2 mb-6">
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            Django
          </div>
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            React
          </div>
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            Multi-Tenant
          </div>
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            JWT
          </div>
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            PostgreSQL
          </div>
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            Recharts
          </div>
        </div>

        <div
          class="card-actions justify-end border-t border-gray-700 pt-6 mt-auto"
        >
          <a
            href="#"
            data-video-url="https://youtu.be/71NUj6uAvRc"
            class="youtube-link btn btn-ghost btn-outline btn-sm gap-2 text-white hover:text-accent-content hover:bg-accent hover:border-accent"
          >
            Ver Video Explicativo
            <svg
              xmlns="http://www.w3.org/2000/svg"
              preserveAspectRatio="xMidYMid"
              viewBox="0 0 256 180"
              fill="none"
              stroke="currentColor"
              stroke-width="16"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="size-6"
            >
              <path
                d="M250.346 28.075A32.18 32.18 0 0 0 227.69 5.418C207.824 0 127.87 0 127.87 0S47.912.164 28.046 5.582A32.18 32.18 0 0 0 5.39 28.24c-6.009 35.298-8.34 89.084.165 122.97a32.18 32.18 0 0 0 22.656 22.657c19.866 5.418 99.822 5.418 99.822 5.418s79.955 0 99.82-5.418a32.18 32.18 0 0 0 22.657-22.657c6.338-35.348 8.291-89.1-.164-123.134Z"
              ></path>
              <path d="m102.421 128.06 66.328-38.418-66.328-38.418z"></path>
            </svg>
          </a>
        </div>
      </div>
    </div>

    <div class="card bg-gray-900 shadow-sm h-full rounded-lg">
      <div class="hover-3d">
        <figure>
          <img src="/cotizador.webp" alt="Sistema Cotizador Dashboard" />
        </figure>
        <div></div><div></div><div></div><div></div><div></div><div></div><div>
        </div><div></div>
      </div>

      <div class="card-body py-6 px-4 md:py-8 md:px-8">
        <h2 class="card-title text-2xl md:text-3xl font-bold text-white mb-2">
          Sistema de Cotizaciones
          <div class="badge badge-accent text-xs ml-2">B2B</div>
        </h2>

        <p class="text-white text-base md:text-lg mb-4 md:mb-6">
          Cliente sin de control de sus cotizaciones a clientes, usaba un excel
          que no tenía un correlativo, muchas veces por no estar en su
          computador hacía las cotizaciones desde el celular pero con otro
          formato básico, sin logo ni detalles de su empresa. se detectó también
          que las cotizaciones que enviaba muchas diferían en los precios siendo
          lso mismos servicios. <br />
          Desarrollé una aplciación web donde en simples pasos puede hacer una cotizacion,
          guardar el pdf, ver lista de cotizaciones anteriores y base de datos de
          clientes.
        </p>

        <div class="flex flex-wrap gap-2 mb-6">
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            Django
          </div>
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            React
          </div>
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            PostgreSQL
          </div>
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            GCP
          </div>
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            jsPDF
          </div>
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            Vercel
          </div>
        </div>

        <div
          class="card-actions justify-end border-t border-gray-700 pt-6 mt-auto"
        >
          <a
            href="https://github.com/cristiangodoyangel/Cotizador"
            target="_blank"
            class="btn btn-ghost btn-outline btn-sm gap-2 text-white h over:text-accent-content hover:bg-accent hover:border-accent"
          >
            <GithubIcon class="w-5 h-5" />
            Ver Código
          </a>

          <a
            href="#"
            data-video-url="https://youtu.be/7XyHeOuqmoE"
            class="youtube-link btn btn-ghost btn-outline btn-sm gap-2 text-white hover:text-accent-content hover:bg-accent hover:border-accent"
          >
            Ver Video Explicativo
            <svg
              xmlns="http://www.w3.org/2000/svg"
              preserveAspectRatio="xMidYMid"
              viewBox="0 0 256 180"
              fill="none"
              stroke="currentColor"
              stroke-width="16"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="size-6"
            >
              <path
                d="M250.346 28.075A32.18 32.18 0 0 0 227.69 5.418C207.824 0 127.87 0 127.87 0S47.912.164 28.046 5.582A32.18 32.18 0 0 0 5.39 28.24c-6.009 35.298-8.34 89.084.165 122.97a32.18 32.18 0 0 0 22.656 22.657c19.866 5.418 99.822 5.418 99.822 5.418s79.955 0 99.82-5.418a32.18 32.18 0 0 0 22.657-22.657c6.338-35.348 8.291-89.1-.164-123.134Z"
              ></path>
              <path d="m102.421 128.06 66.328-38.418-66.328-38.418z"></path>
            </svg>
          </a>
        </div>
      </div>
    </div>

    <div class="card bg-gray-900 shadow-sm h-full rounded-lg">
      <div class="hover-3d">
        <figure>
          <img src="/taller.webp" alt="Control Taller Dashboard" />
        </figure>
        <div></div><div></div><div></div><div></div><div></div><div></div><div>
        </div><div></div>
      </div>

      <div class="card-body py-6 px-4 md:py-8 md:px-8">
        <h2 class="card-title text-2xl md:text-3xl font-bold text-white mb-2">
          Gestión Taller Automotriz
          <div class="badge badge-accent text-xs ml-2">DIGITALIZACIÓN</div>
        </h2>

        <p class="text-white text-base md:text-lg mb-4 md:mb-6">
          Cliente de un taller tenía un sistema de ingreso al taller con
          talonarios en físico, el cual tenía muchos inconvenientes: falta de
          control total de clientes y detalles del vehiculo, al buscar la ultima
          mantención de un vehículo podían demorar horas, muchas veces se
          perdían los formularios.
          <br />
          Desarrollé una aplicación móvil para el ingreso de vehículos, eliminando
          el uso de papel. Permite dibujar daños sobre el vehículo, capturar firmas
          digitales, generar órdenes en PDF, consultar el historial de servicios por
          patente y monitorización de vehículos en el taller y su estado en tiempo
          real.
        </p>

        <div class="flex flex-wrap gap-2 mb-6">
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            Django
          </div>
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            React
          </div>
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            Canvas API
          </div>
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            ReportLab
          </div>
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            MySQL
          </div>
          <div
            class="badge h-8 bg-accent text-secondary-content border-gray-900 font-bold"
          >
            Bootstrap
          </div>
        </div>

        <div
          class="card-actions justify-end border-t border-base-200 pt-6 mt-auto"
        >
          <a
            href="https://github.com/cristiangodoyangel/TallerMecanico"
            target="_blank"
            class="btn btn-ghost btn-outline btn-sm gap-2 text-white hover:text-accent-content hover:bg-accent hover:border-accent"
          >
            <GithubIcon class="w-5 h-5" />
            Ver Código
          </a>

          {
            /* <a
                href="#"
                class="btn btn-ghost btn-outline btn-sm gap-2 text-white hover:text-accent -content hover:bg-accent hover:border-accent"
              >
                Ver Video Explicativo
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  preserveAspectRatio="xMidYMid"
                  viewBox="0 0 256 180"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="16"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="size-6"
                >
                  <path
                    d="M250.346 28.075A32.18 32.18 0 0 0 227.69 5.418C207.824 0 127.87 0 127.87 0S47.912.164 28.046 5.582A32.18 32.18 0 0 0 5.39 28.24c-6.009 35.298-8.34 89.084.165 122.97a32.18 32.18 0 0 0 22.656 22.657c19.866 5.418 99.822 5.418 99.822 5.418s79.955 0 99.82-5.418a32.18 32.18 0 0 0 22.657-22.657c6.338-35.348 8.291-89.1-.164-123.134Z"
                  ></path>
                  <path d="m102.421 128.06 66.328-38.418-66.328-38.418z"></path>
                </svg>
              </a> */
          }
        </div>
      </div>
    </div>
  </div>
</section>

<!-- YouTube Modal -->
<div
  id="youtube-modal"
  class="fixed inset-0 bg-black/80 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4"
>
  <div
    class="relative w-full max-w-5xl bg-gray-900 rounded-2xl shadow-2xl overflow-hidden"
  >
    <!-- Close button -->
    <button
      id="close-modal"
      class="absolute top-4 right-4 z-10 w-10 h-10 flex items-center justify-center bg-red-600 hover:bg-red-700 text-white rounded-full transition-all duration-300 hover:scale-110 shadow-lg"
      aria-label="Cerrar modal"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        stroke-width="2"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M6 18L18 6M6 6l12 12"></path>
      </svg>
    </button>

    <!-- Video container -->
    <div class="relative w-full" style="padding-bottom: 56.25%;">
      <iframe
        id="youtube-iframe"
        class="absolute top-0 left-0 w-full h-full"
        src=""
        title="YouTube video player"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen></iframe>
    </div>
  </div>
</div>

<script is:inline>
  // YouTube Modal functionality
  const modal = document.getElementById("youtube-modal");
  const iframe = document.getElementById("youtube-iframe");
  const closeBtn = document.getElementById("close-modal");
  const youtubeLinks = document.querySelectorAll(".youtube-link");

  // Open modal with video
  youtubeLinks.forEach((link) => {
    link.addEventListener("click", (e) => {
      e.preventDefault();
      const videoUrl = link.getAttribute("data-video-url");
      // Convert YouTube URL to embed URL
      const videoId = videoUrl.split("/").pop();
      iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;
      modal.classList.remove("hidden");
      modal.classList.add("flex");
      document.body.style.overflow = "hidden";
    });
  });

  // Close modal
  function closeModal() {
    modal.classList.add("hidden");
    modal.classList.remove("flex");
    iframe.src = "";
    document.body.style.overflow = "auto";
  }

  closeBtn.addEventListener("click", closeModal);

  // Close modal when clicking outside
  modal.addEventListener("click", (e) => {
    if (e.target === modal) {
      closeModal();
    }
  });

  // Close modal with Escape key
  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape" && !modal.classList.contains("hidden")) {
      closeModal();
    }
  });
</script>

<style>
  @media (max-width: 1024px) {
    .hover-3d div:not(:first-child) {
      display: none;
    }
  }
</style>
